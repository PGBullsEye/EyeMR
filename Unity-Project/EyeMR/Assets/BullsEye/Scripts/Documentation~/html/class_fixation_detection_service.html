<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BullsEye Framework: FixationDetectionService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BullsEye Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_fixation_detection_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FixationDetectionService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This service, if once attached to the to the main camera, communicates with the PupilListener. Interaction techniques, that subscribed to the service. A custom made script can, if implementing the <a class="el" href="interface_i_fixation_interaction_technique.html" title="An simple interface defining the methods used for a fixation triggered interaction technique...">IFixationInteractionTechnique</a> interface, subscribe to this service with its own fixation parameters. From now on the service will check each frame if a fixation specified by this parameters occurred. If this is the case the service will trigger the <a class="el" href="interface_i_fixation_interaction_technique.html#addcd5cced3c8bee99ab88b78f17c6219" title="This method is called when the fixation starts. ">IFixationInteractionTechnique.OnFixStarted</a> method of the corresponding interaction technique. Each frame a fixation continues the <a class="el" href="interface_i_fixation_interaction_technique.html#a3e80968e57be08466b5cc420776258e8" title="This method is called once per frame for the duration of the fixation. ">IFixationInteractionTechnique.OnFixUpdate</a> method is called. Finally if the fixation ends the <a class="el" href="interface_i_fixation_interaction_technique.html#ab9bf13c9d837a19d86e652264e3ba9a8" title="This method is called when the fixation ends. ">IFixationInteractionTechnique.OnFixEnded</a> method is called.  
 <a href="class_fixation_detection_service.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for FixationDetectionService:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_fixation_detection_service.png" usemap="#FixationDetectionService_map" alt=""/>
  <map id="FixationDetectionService_map" name="FixationDetectionService_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3402d8322cd16d436adb3f111d4aedfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fixation_detection_service.html#a3402d8322cd16d436adb3f111d4aedfa">Start</a> ()</td></tr>
<tr class="memdesc:a3402d8322cd16d436adb3f111d4aedfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if only one instance of the script is running and start the stopwatch to track fixation times.  <a href="#a3402d8322cd16d436adb3f111d4aedfa">More...</a><br /></td></tr>
<tr class="separator:a3402d8322cd16d436adb3f111d4aedfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3941e1196f00d0d22602a4d94c48da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fixation_detection_service.html#a2c3941e1196f00d0d22602a4d94c48da">OnDestroy</a> ()</td></tr>
<tr class="memdesc:a2c3941e1196f00d0d22602a4d94c48da"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called by the unity engine when the object is destroyed.  <a href="#a2c3941e1196f00d0d22602a4d94c48da">More...</a><br /></td></tr>
<tr class="separator:a2c3941e1196f00d0d22602a4d94c48da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80dd769ccc30956bb3e689113f41bfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fixation_detection_service.html#ad80dd769ccc30956bb3e689113f41bfd">Update</a> ()</td></tr>
<tr class="memdesc:ad80dd769ccc30956bb3e689113f41bfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run once per frame by unity. Collects the newest gaze position from the PupilListener, removes older and not longer used gaze positions and detects if a fixation occurred with the new values.  <a href="#ad80dd769ccc30956bb3e689113f41bfd">More...</a><br /></td></tr>
<tr class="separator:ad80dd769ccc30956bb3e689113f41bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6f521d1ecae11a4f9b611f917153d81b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fixation_detection_service.html#a6f521d1ecae11a4f9b611f917153d81b">Subscribe</a> (<a class="el" href="interface_i_fixation_interaction_technique.html">IFixationInteractionTechnique</a> technique, long fixationTime, double deviation, GameObject go)</td></tr>
<tr class="memdesc:a6f521d1ecae11a4f9b611f917153d81b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method can be used by <a class="el" href="interface_i_fixation_interaction_technique.html" title="An simple interface defining the methods used for a fixation triggered interaction technique...">IFixationInteractionTechnique</a>s to subscribe to this service. Use this method in the onStart method of a interaction technique. The service will watch out for fixations fitting your passed parameters and trigger the <a class="el" href="interface_i_fixation_interaction_technique.html#addcd5cced3c8bee99ab88b78f17c6219" title="This method is called when the fixation starts. ">IFixationInteractionTechnique.OnFixStarted</a>, <a class="el" href="interface_i_fixation_interaction_technique.html#a3e80968e57be08466b5cc420776258e8" title="This method is called once per frame for the duration of the fixation. ">IFixationInteractionTechnique.OnFixUpdate</a> and <a class="el" href="interface_i_fixation_interaction_technique.html#ab9bf13c9d837a19d86e652264e3ba9a8" title="This method is called when the fixation ends. ">IFixationInteractionTechnique.OnFixEnded</a> methods.  <a href="#a6f521d1ecae11a4f9b611f917153d81b">More...</a><br /></td></tr>
<tr class="separator:a6f521d1ecae11a4f9b611f917153d81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This service, if once attached to the to the main camera, communicates with the PupilListener. Interaction techniques, that subscribed to the service. A custom made script can, if implementing the <a class="el" href="interface_i_fixation_interaction_technique.html" title="An simple interface defining the methods used for a fixation triggered interaction technique...">IFixationInteractionTechnique</a> interface, subscribe to this service with its own fixation parameters. From now on the service will check each frame if a fixation specified by this parameters occurred. If this is the case the service will trigger the <a class="el" href="interface_i_fixation_interaction_technique.html#addcd5cced3c8bee99ab88b78f17c6219" title="This method is called when the fixation starts. ">IFixationInteractionTechnique.OnFixStarted</a> method of the corresponding interaction technique. Each frame a fixation continues the <a class="el" href="interface_i_fixation_interaction_technique.html#a3e80968e57be08466b5cc420776258e8" title="This method is called once per frame for the duration of the fixation. ">IFixationInteractionTechnique.OnFixUpdate</a> method is called. Finally if the fixation ends the <a class="el" href="interface_i_fixation_interaction_technique.html#ab9bf13c9d837a19d86e652264e3ba9a8" title="This method is called when the fixation ends. ">IFixationInteractionTechnique.OnFixEnded</a> method is called. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2c3941e1196f00d0d22602a4d94c48da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3941e1196f00d0d22602a4d94c48da">&#9670;&nbsp;</a></span>OnDestroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FixationDetectionService.OnDestroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called by the unity engine when the object is destroyed. </p>

</div>
</div>
<a id="a3402d8322cd16d436adb3f111d4aedfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3402d8322cd16d436adb3f111d4aedfa">&#9670;&nbsp;</a></span>Start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FixationDetectionService.Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if only one instance of the script is running and start the stopwatch to track fixation times. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">BullsEyeFrameworkException</td><td>Can be thrown when more than one instance of the script is running. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f521d1ecae11a4f9b611f917153d81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f521d1ecae11a4f9b611f917153d81b">&#9670;&nbsp;</a></span>Subscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FixationDetectionService.Subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_i_fixation_interaction_technique.html">IFixationInteractionTechnique</a>&#160;</td>
          <td class="paramname"><em>technique</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>fixationTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>deviation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GameObject&#160;</td>
          <td class="paramname"><em>go</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method can be used by <a class="el" href="interface_i_fixation_interaction_technique.html" title="An simple interface defining the methods used for a fixation triggered interaction technique...">IFixationInteractionTechnique</a>s to subscribe to this service. Use this method in the onStart method of a interaction technique. The service will watch out for fixations fitting your passed parameters and trigger the <a class="el" href="interface_i_fixation_interaction_technique.html#addcd5cced3c8bee99ab88b78f17c6219" title="This method is called when the fixation starts. ">IFixationInteractionTechnique.OnFixStarted</a>, <a class="el" href="interface_i_fixation_interaction_technique.html#a3e80968e57be08466b5cc420776258e8" title="This method is called once per frame for the duration of the fixation. ">IFixationInteractionTechnique.OnFixUpdate</a> and <a class="el" href="interface_i_fixation_interaction_technique.html#ab9bf13c9d837a19d86e652264e3ba9a8" title="This method is called when the fixation ends. ">IFixationInteractionTechnique.OnFixEnded</a> methods. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">technique</td><td>The interaction technique that should be triggered in case of a fixation e.g. this (the caller). </td></tr>
    <tr><td class="paramname">fixationTime</td><td>The fixation time in milliseconds parameter to define a fixation. A fixation is only triggered if all gaze positions are within a specific deviation for at least the specified time. </td></tr>
    <tr><td class="paramname">deviation</td><td>Parameter to define a fixation. A fixation is only triggered if the deviation of all gaze points is less or equal the passed value in the passed time. </td></tr>
    <tr><td class="paramname">go</td><td>A GameObject can be combined with the fixation interaction technique so the technique is only triggered when the GameObject is fixated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad80dd769ccc30956bb3e689113f41bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80dd769ccc30956bb3e689113f41bfd">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FixationDetectionService.Update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run once per frame by unity. Collects the newest gaze position from the PupilListener, removes older and not longer used gaze positions and detects if a fixation occurred with the new values. </p>
<p>Since UnityEngine.Object.Destroy destroys the object not till the end of the next call of the Update, it is possible that two update methods are running at the same time. If this is the case the to be destroyed one should skip this turn.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Tim/Documents/informatik/master/pg/git/Code/Unity/PGBullsEye/PGBullsEye/Assets/Scripts/BullsEyeScripts/Services/FixationDetectionService.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
